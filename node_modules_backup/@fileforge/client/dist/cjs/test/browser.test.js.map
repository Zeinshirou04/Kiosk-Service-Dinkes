{"version":3,"file":"browser.test.js","sourceRoot":"/","sources":["test/browser.test.ts"],"names":[],"mappings":";AAAA;;GAEG;;AAEH,mCAA8C;AAC9C,qCAA2C;AAC3C,iEAA4D;AAE5D,MAAM,OAAO,GAAG;IACd,GAAG,EAAE;QACH,iBAAiB,EAAE,sCAAsC;KAC1D;CACF,CAAC;AAEF,IAAA,iBAAQ,EAAC,SAAS,EAAE,GAAG,EAAE;IACvB,IAAA,WAAE,EAAC,aAAa,EAAE,GAAG,EAAE;QACrB,wDAAwD;QACxD,IAAA,eAAM,EAAC,MAAM,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;QAElC,IAAA,eAAM,EACJ,IAAI,wBAAe,CAAC;YAClB,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB;SACtC,CAAC,CACH,CAAC,cAAc,CAAC,wBAAe,CAAC,CAAC;IACpC,CAAC,CAAC,CAAC;IAEH,WAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;QACvC,MAAM,EAAE,GAAG,IAAI,wBAAe,CAAC;YAC7B,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB;SACtC,CAAC,CAAC;QAEH,MAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CACpB,MAAM,IAAA,6BAAY,EAAC,SAAS,GAAG,mBAAmB,CAAC,EACnD,EAAE,CACH,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAA,WAAE,EAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;QAC9C,MAAM,EAAE,GAAG,IAAI,wBAAe,CAAC;YAC7B,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB;SACtC,CAAC,CAAC;QAEH,MAAM,IAAI,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,QAAQ,CAChC;YACE,MAAM,IAAA,6BAAY,EAAC,SAAS,GAAG,qBAAqB,EAAE,YAAY,EAAE;gBAClE,IAAI,EAAE,WAAW;aAClB,CAAC;SACH,EACD,EAAE,CACH,CAAC;QAEF,IAAA,eAAM,EAAC,IAAI,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;IAC9C,CAAC,EAAE,KAAK,CAAC,CAAC;IAEV,IAAA,WAAE,EAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;QAC9C,MAAM,EAAE,GAAG,IAAI,wBAAe,CAAC;YAC7B,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB;SACtC,CAAC,CAAC;QAEH,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,QAAQ,CACnC;YACE,MAAM,IAAA,6BAAY,EAAC,SAAS,GAAG,qBAAqB,EAAE,YAAY,EAAE;gBAClE,IAAI,EAAE,WAAW;aAClB,CAAC;SACH,EACD;YACE,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;SACxB,CACF,CAAC;QAEF,IAAA,eAAM,EAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;IAC5B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/**\n * @vitest-environment jsdom\n */\n\nimport { describe, it, expect } from \"vitest\";\nimport { FileforgeClient } from \"@/client\";\nimport { fileFromPath } from \"formdata-node/file-from-path\";\n\nconst process = {\n  env: {\n    FILEFORGE_API_KEY: \"1466ffcd-95d0-4c84-9ebd-cb0997d4c31c\",\n  },\n};\n\ndescribe(\"browser\", () => {\n  it(\"should work\", () => {\n    // Ensure that File is not available in the global scope\n    expect(global.File).toBeDefined();\n\n    expect(\n      new FileforgeClient({\n        apiKey: process.env.FILEFORGE_API_KEY,\n      }),\n    ).toBeInstanceOf(FileforgeClient);\n  });\n\n  it.skip(\"should accept file\", async () => {\n    const ff = new FileforgeClient({\n      apiKey: process.env.FILEFORGE_API_KEY,\n    });\n\n    await ff.pdf.form.mark(\n      await fileFromPath(__dirname + \"/samples/form.pdf\"),\n      {},\n    );\n  });\n\n  it(\"should decode file in generate\", async () => {\n    const ff = new FileforgeClient({\n      apiKey: process.env.FILEFORGE_API_KEY,\n    });\n\n    const file = await ff.pdf.generate(\n      [\n        await fileFromPath(__dirname + \"/samples/index.html\", \"index.html\", {\n          type: \"text/html\",\n        }),\n      ],\n      {},\n    );\n\n    expect(file).toBeInstanceOf(ReadableStream);\n  }, 30000);\n\n  it(\"should decode json in generate\", async () => {\n    const ff = new FileforgeClient({\n      apiKey: process.env.FILEFORGE_API_KEY,\n    });\n\n    const { url } = await ff.pdf.generate(\n      [\n        await fileFromPath(__dirname + \"/samples/index.html\", \"index.html\", {\n          type: \"text/html\",\n        }),\n      ],\n      {\n        options: { host: true },\n      },\n    );\n\n    expect(url).toBeDefined();\n  });\n});\n"]}