import{j as i}from"./app-BLot9kEe.js";import{P as b}from"./PrimaryButton-DuqQVhKg.js";import{d as a}from"./index-DysX-SQS.js";function j({className:s,text:o="",...t}){return i.jsx("button",{...t,className:"bg-red-500 px-6 py-3 rounded-xl text-white "+s,children:o})}function C({title:s=void 0,isActive:o=!1,setActive:t,text:d,no_hp:n,nik:m,confirmMessage:h="Sudah",declineMessage:x="Belum",isAuthenticated:l=!1,state:r="none",preview:f=void 0}){const c=()=>{t(e=>({...e,ConfirmActive:!e.ConfirmActive})),setTimeout(()=>{t(e=>({...e,WeightTutorialActive:!e.WeightTutorialActive}))},500)},u=()=>{t(e=>({...e,ConfirmActive:!e.ConfirmActive})),setTimeout(()=>{t(e=>({...e,GlucoseTutorialActive:!e.GlucoseTutorialActive}))},500)},p=()=>{t(e=>({...e,ConfirmActive:!e.ConfirmActive})),setTimeout(()=>{t(e=>({...e,BloodTutorialActive:!e.BloodTutorialActive}))},500)},g=async()=>{try{const e=await axios.get(route("patient.print.pdf",{nik:m}));await axios.post("https://api.watzap.id/v1/send_message",{api_key:"Q1OTKLXL7XXJJZHS",number_key:"FlLf4NX5aH9sil3h",phone_no:n.toString().indexOf("0")==0?n.toString().replace(/^0/,"62"):n.toString(),message:`Halo, Permisi Sobat Pasien! Silahkan akses link berikut untuk melihat hasil pengukuran anda! Link Hasil Pengukuran: ${e.data.url}`},{headers:{"Content-Type":"application/json"}}).then(()=>{a.Inertia.visit(route("v2.home.index",{_query:{state:"finished"}}))})}catch(e){console.error(e);try{await axios.post("https://api.watzap.id/v1/send_message",{api_key:"Q1OTKLXL7XXJJZHS",number_key:"FlLf4NX5aH9sil3h",phone_no:"62895321233687",message:`Error Ras, ${e}`},{headers:{"Content-Type":"application/json"}}).then(()=>{a.Inertia.visit(route("v2.home.index",{_query:{state:"finished"}}))})}catch{a.Inertia.visit(route("v2.home.index",{_query:{state:"finished"}}))}}},k=()=>{switch(l||a.Inertia.visit(route("login.create")),r){case"weight":c();break;case"glucose":c();break;case"blood":a.Inertia.visit(route("v2.home.index",{_query:{state:"glucose"}}));break;case"confirmation":a.Inertia.visit(route("v2.home.index",{_query:{state:"blood"}}));break}},v=()=>{switch(l||a.Inertia.visit(route("register.create")),r){case"weight":u();break;case"glucose":u();break;case"blood":p();break;case"confirmation":g();break;case"finished":a.Inertia.visit(route("logout.attempt"));break}};return i.jsxs("div",{className:"h-auto w-full mt-8 "+(o?"":"hidden"),children:[i.jsx("div",{className:"w-full",children:i.jsx("h6",{className:"text-4xl text-black text-center font-semibold",children:"Anjungan Kesehatan Mandiri"})}),i.jsx("div",{className:"w-full px-12 mt-8",children:f??s}),i.jsx("div",{className:"w-full px-12 mt-8",children:i.jsx("article",{className:"text-center flex flex-col gap-3",children:i.jsx("h4",{className:"text-4xl",children:d})})}),i.jsx("div",{className:"mx-auto mt-8",children:i.jsxs("div",{className:"w-full flex flex-row justify-center gap-4",children:[r!="finished"?i.jsx(b,{onClick:k,className:"text-3xl",text:h}):"",i.jsx(j,{onClick:v,className:"text-3xl",text:x})]})})]})}export{C as default};
