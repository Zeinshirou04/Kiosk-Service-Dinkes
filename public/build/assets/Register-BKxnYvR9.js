import{r as i,W as S,j as a,c as x}from"./app-CaRl5EYJ.js";import{G as F}from"./GuestLayout-D31SbNcH.js";import{P as D}from"./PrimaryButton-kKpXK_OX.js";import{I as c}from"./InputError-IhJNnW75.js";function G({kabkota:g,kecamatan:h,kelurahan:f}){const[p,b]=i.useState(),[d,k]=i.useState(),[u,j]=i.useState(),[E,N]=i.useState(),[L,v]=i.useState(0);i.useState(),i.useState(),i.useState();const{data:n,setData:m,post:w,processing:R,errors:t,reset:I}=S({nik:null,nama_pasien:"",jenis_kelamin:"L",tgl_lahir:"",kecamatan:"",kelurahan:"",kabkota:"",alamat:"",no_hp:null}),_="/v2",o=(e,l,s)=>{console.log(s),m(r=>({...r,[e.target.name]:e.target.value})),l=="kota"&&y(s),l=="kecamatan"&&K(s),l=="kelurahan"&&P(s)},y=async e=>{const l=await x.get("http://119.2.50.170/sendpusk/api/migrasi/sip/masterkotakabsatset/");console.log(l.data);const s=[];g.forEach(r=>{r.kode_parent==e&&s.push(r)}),k(s),console.log(s)},K=async e=>{const l=await x.get("http://119.2.50.170/sendpusk/api/migrasi/sip/masterkecamatansatset/");console.log(l.data);const s=[];h.forEach(r=>{r.kode_parent==e&&s.push(r)}),j(s),console.log(s)},P=async e=>{const l=await x.get("http://119.2.50.170/sendpusk/api/migrasi/sip/masterkelurahansatset/");console.log(l.data);const s=[];f.forEach(r=>{r.kode_parent==e&&s.push(r)}),N(s),console.log(s)};i.useEffect(()=>{(async()=>{try{const l=await x.get("http://119.2.50.170/sendpusk/api/migrasi/sip/masterprovinsisatset/");b(l.data),console.log(l.data)}catch(l){console.error("Error fetching data:",l.message)}})()},[]);const C=e=>{e.preventDefault(),console.log(n),w(route("register.store"))};return a.jsx(F,{className:"flex flex-col justify-center items-center",title:"Anjungan Kesehatan Mandiri",children:a.jsxs("section",{className:"w-1/2 flex flex-col justify-start px-2 py-2 gap-4",children:[a.jsx("div",{className:"w-min",children:a.jsxs("a",{href:_,className:"flex flex-row gap-4",children:[a.jsx("i",{className:"fa-solid fa-arrow-left text-black text-4xl"}),a.jsx("p",{className:"text-4xl font-bold",children:"Kembali"})]})}),a.jsxs("div",{className:"w-full border-4 border-green-400 rounded-2xl overflow-hidden px-8 py-8 grid grid-flow-row",children:[a.jsxs("section",{className:"w-full grid grid-rows-2 gap-4 mb-4",children:[a.jsx("header",{className:"w-full",children:a.jsx("h2",{className:"text-6xl font-extrabold",children:"Daftar"})}),a.jsx("caption",{className:"w-full",children:a.jsxs("p",{className:"text-xl italic text-gray-700 text-left border-b-2 border-black pb-1",children:["Isikan NIK, No WA, dan Informasi yang Diperlukan"," ",a.jsx("strong",{children:"Sesuai KTP"})," untuk Mendaftar"]})})]}),a.jsx("section",{className:"w-full",children:a.jsxs("form",{className:"grid grid-cols-6 gap-2",onSubmit:C,children:[a.jsx("label",{htmlFor:"nik",className:"col-span-6 text-xl font-bold",children:"Nomor Induk Kependudukan"}),a.jsx("input",{className:"col-span-6 border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"number",name:"nik",id:"nik",minLength:16,maxLength:16,placeholder:"Contoh: 357601********03",value:n.nik,onChange:o}),a.jsx(c,{className:"col-span-6",message:t.nik?t.nik:t.match}),a.jsx("label",{htmlFor:"nama_pasien",className:"col-span-6 text-xl font-bold",children:"Nama Lengkap"}),a.jsx("input",{className:"col-span-6 border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"text",name:"nama_pasien",id:"nama_pasien",placeholder:"Contoh: Ahmad Yani",value:n.nama_pasien,onChange:o}),a.jsx(c,{className:"col-span-6",message:t.nama_pasien}),a.jsxs("div",{className:"col-span-4 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"tgl_lahir",className:"w-full text-xl font-bold",children:"Tanggal Lahir"}),a.jsx("input",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"date",name:"tgl_lahir",id:"tgl_lahir",placeholder:"12/02/2004",value:n.tgl_lahir,onChange:o}),a.jsx(c,{className:"w-full",message:t.tgl_lahir})]}),a.jsxs("div",{className:"col-span-2 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"jenis_kelamin",className:"w-full text-xl font-bold",children:"Kelamin"}),a.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"jenis_kelamin",id:"jenis_kelamin",value:n.jenis_kelamin,onChange:o,children:[a.jsx("option",{value:"L",children:"Laki-Laki"}),a.jsx("option",{value:"P",children:"Perempuan"})]}),a.jsx(c,{className:"w-full",message:t.jenis_kelamin})]}),a.jsx("label",{htmlFor:"alamat",className:"col-span-6 text-xl font-bold",children:"Alamat"}),a.jsxs("div",{className:"col-span-6 grid grid-cols-6 gap-2",children:[a.jsx("input",{className:"col-span-6 border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"text",name:"alamat",id:"alamat",placeholder:"Contoh: Jl. Imam Bonjol No. 30",value:n.alamat,onChange:o}),a.jsx("p",{className:"col-span-6 text-md text-red-500 italic",children:"*Alamat hanya berisikan Jalan, Nomor Rumah ataupun RT RW tanpa Kelurahan hingga Provinsi"})]}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"provinsi",className:"w-full text-xl font-bold",children:"Provinsi"}),a.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"provinsi",id:"provinsi",onChange:e=>{o(e,"kota",e.target.value),v(e.target.value)},children:[a.jsx("option",{value:"",children:"-- Pilih Provinsi --"}),p==null?void 0:p.map(e=>a.jsx("option",{value:e.kode_provinsi,children:e.nama},e.kode_provinsi))]}),a.jsx(c,{className:"w-full",message:t.kabkota})]}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"kabkota",className:"w-full text-xl font-bold",children:"Kab/Kota"}),a.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"kabkota",id:"kabkota",value:n.kabkota,onChange:e=>{o(e,"kecamatan",e.target.value),m(l=>({...l,kabkota:e.target.value}))},children:[a.jsx("option",{value:"",children:"-- Pilih Kota --"}),d==null?void 0:d.map(e=>a.jsx("option",{value:e.kode_kota_kab,children:e.nama},e.kode_kota_kab))]}),a.jsx(c,{className:"w-full",message:t.kabkota})]}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"kecamatan",className:"w-full text-xl font-bold",children:"Kecamatan"}),a.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"kecamatan",id:"kecamatan",value:n.kecamatan,onChange:e=>{o(e,"kelurahan",e.target.value),m(l=>({...l,kecamatan:e.target.value}))},disabled:!d||d.length===0,children:[a.jsx("option",{value:"",children:"-- Pilih Kecamatan --"}),u==null?void 0:u.map(e=>a.jsx("option",{value:e.kode_kecamatan,children:e.nama},e.kode_kecamatan))]}),a.jsx(c,{className:"w-full",message:t.kecamatan})]}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"kelurahan",className:"w-full text-xl font-bold",children:"Kelurahan/Desa"}),a.jsx("input",{type:"text",className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"kelurahan",id:"kelurahan",value:n.kelurahan,onChange:e=>{o(e,"kelurahan",e.target.value),m(l=>({...l,kelurahan:e.target.value}))},disabled:!h||h.length===0}),a.jsx(c,{className:"w-full",message:t.kelurahan})]}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"no_hp",className:"w-full text-xl font-bold",children:"No Whatsapp (WA)"}),a.jsx("input",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"number",name:"no_hp",id:"no_hp",placeholder:"Contoh: 0812****1998",value:n.no_hp,onChange:o}),a.jsx(c,{className:"w-full",message:t.no_hp})]}),a.jsx(D,{className:"col-span-2",text:"Daftar"})]})})]})]})})}export{G as default};
