import{W as u,r as o,j as e,Y as p}from"./app-BSh34GBf.js";import{N as h}from"./AsideMenu-B-WNNP_v.js";import{I as g}from"./IdentitasPasien-ZOrlxwq1.js";import"./NavLink-C9pvvO5J.js";function b({nik:t,active:r,setActive:c}){const{data:l,setData:n,post:a,processing:i,errors:f,reset:j}=u({nik:0,gula:0,berat:0,tinggi:0,dev_id:""});o.useEffect(()=>{const s=async()=>{try{const d=(await axios.get(route("device.show",{device:"eec58e5e-cd44-319f-a1be-46dd38c5d01c"}))).data.data;n({nik:t,gula:d.gula,berat:d.berat,tinggi:d.tinggi,dev_id:d.dev_id})}catch(x){console.error(x)}};setInterval(()=>{s()},2e3)},[]);const m=s=>{s.preventDefault(),a(route("pengukuran.store"))};return e.jsx("div",{className:"w-full h-full absolute duration-150 ease-in-out "+(r?"block":"hidden"),children:e.jsxs("div",{className:"w-full h-full flex flex-row justify-center items-center relative",children:[e.jsx("div",{onClick:()=>{c(s=>!s)},className:"w-full h-full bg-black/30 absolute"}),e.jsxs("div",{className:"w-1/3 h-auto bg-white px-6 py-4 rounded-md z-10",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Pengukuran"}),e.jsxs("form",{className:"mt-4",onSubmit:m,children:[e.jsxs("div",{className:"flex flex-col gap-2 py-2",children:[e.jsx("label",{className:"text-lg",htmlFor:"glukosa",children:"Glukosa"}),e.jsx("input",{className:"bg-[#388E3C]/30 border-0 rounded-md w-full",type:"number",value:l.gula,name:"glukosa",style:{appearance:"textfield"}})]}),e.jsxs("div",{className:"flex flex-col gap-2 py-2",children:[e.jsx("label",{className:"text-lg",htmlFor:"berat",children:"Berat Badan"}),e.jsx("input",{className:"bg-[#388E3C]/30 border-0 rounded-md w-full",type:"number",value:l.berat,name:"berat",style:{appearance:"textfield"}})]}),e.jsxs("div",{className:"flex flex-col gap-2 py-2",children:[e.jsx("label",{className:"text-lg",htmlFor:"tinggi",children:"Tinggi Badan"}),e.jsx("input",{className:"bg-[#388E3C]/30 border-0 rounded-md w-full",type:"number",value:l.tinggi,name:"tinggi",style:{appearance:"textfield"}})]}),e.jsx("div",{className:"py-2",children:e.jsx("input",{onClick:()=>{c(s=>!s)},className:"px-4 py-3 bg-[#388E3C]/80 rounded-lg text-white",type:"submit",value:"Simpan"})})]})]})]})})}function k({pasien:t,rekap:r,data:c}){const[l,n]=o.useState(!1);return console.log(r.length),e.jsxs("section",{id:"wrapper",className:"w-svw h-svh relative",children:[e.jsx(p,{title:"Pasien Umum"}),e.jsx(b,{nik:t.nik,active:l,setActive:n}),e.jsxs("div",{id:"menuWrapper",className:"w-full h-full bg-[#F2F9F1] mx-auto flex flex-row",style:{maxWidth:"1080px",maxHeight:"1920px"},children:[e.jsx(h,{}),e.jsxs("main",{className:"w-4/6 h-full px-8 py-12 flex flex-col gap-16",children:[e.jsx("header",{className:"px-2 py-2 max-h-32 h-full",children:e.jsx("h1",{className:"font-extrabold text-6xl text-center text-[#388E3C]",children:"Anjungan Kesehatan Mandiri"})}),e.jsxs("section",{id:"menuPasien",className:"h-full w-3/4 mx-auto",children:[e.jsx(g,{data:t}),e.jsxs("div",{className:"w-full px-2 py-2 mt-8",children:[e.jsxs("div",{className:"w-full max-w-full flex flex-row justify-between items-end",children:[e.jsx("h2",{className:"text-md font-bold text-nowrap",children:"Rekapitulasi Pengukuran"}),e.jsx("div",{className:"w-full flex flex-row justify-end",children:e.jsx("button",{onClick:()=>{n(a=>!a)},className:"px-2 py-1 bg-green-400 rounded-lg text-sm focus:bg-green-500 active:bg-green-500 duration-100",children:"Pengukuran Baru"})})]}),e.jsx("div",{className:"w-full max-w-full h-60 overflow-x-auto overflow-y-auto mt-2",children:e.jsxs("table",{className:"min-w-full min-h-full text-nowrap text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-b-gray-200 bg-gray-600 text-white",children:[e.jsx("th",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:"No"}),e.jsx("th",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:"Glukosa"}),e.jsx("th",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:"Berat badan"}),e.jsx("th",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:"Tinggi badan"}),e.jsx("th",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:"Tanggal Ukur"})]})}),e.jsx("tbody",{children:r.length!=0?Object.values(r).map((a,i)=>e.jsxs("tr",{className:"border-b-2 border-b-gray-300 "+(i%2==0?"bg-gray-200":""),children:[e.jsx("td",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:++i}),e.jsxs("td",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:[a.gula,e.jsx("span",{className:"text-sm",children:"mg/dL"})]}),e.jsxs("td",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:[a.berat,e.jsx("span",{className:"text-sm",children:"kg"})]}),e.jsxs("td",{className:"px-4 py-1 border-r-2 border-r-gray-500",children:[a.tinggi,e.jsx("span",{className:"text-sm",children:"cm"})]}),e.jsx("td",{className:"px-4 py-1",children:a.created_at})]})):e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-2 border-r-2 border-r-gray-500 text-center",rowSpan:6,colSpan:5,children:"Belum ada pengukuran"})})})]})})]})]})]})]})]})}export{k as default};
