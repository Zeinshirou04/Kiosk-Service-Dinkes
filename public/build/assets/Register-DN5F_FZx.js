import{r as n,W as j,j as e}from"./app-BSUjP04C.js";import{G as N}from"./GuestLayout-VU8BQKE3.js";import{P as v}from"./PrimaryButton-Bhwi8G-h.js";import{I as r}from"./InputError-DRBlUATL.js";function S({kabkota:m,kecamatan:h,kelurahan:u,provinsi:i}){n.useState(""),n.useState(""),n.useState(""),n.useState("");const[p,c]=n.useState(!1),[d,g]=n.useState("0");n.useState(),n.useState(),n.useState();const{data:l,setData:x,post:f,processing:w,errors:s,reset:_}=j({nik:null,nama_pasien:"",jenis_kelamin:"L",tgl_lahir:"",kecamatan:"",kelurahan:"",kabkota:"",alamat:"",no_hp:null}),b="/v2",t=a=>{x(o=>({...o,[a.target.name]:a.target.value}))};n.useEffect(()=>{const a=i.find(o=>o.nama==="Jawa Tengah");a&&g(a.kode_provinsi)},[]);const k=a=>{a.preventDefault(),f(route("register.store")),c(!1)};return e.jsx(N,{className:"flex flex-col justify-center items-center",title:"Anjungan Kesehatan Mandiri",children:e.jsxs("section",{className:"w-1/2 flex flex-col justify-start px-2 py-2 gap-4",children:[e.jsx("div",{className:"w-min",children:e.jsxs("a",{href:b,className:"flex flex-row gap-4",children:[e.jsx("i",{className:"fa-solid fa-arrow-left text-black text-4xl"}),e.jsx("p",{className:"text-4xl font-bold",children:"Kembali"})]})}),e.jsxs("div",{className:"w-full border-4 border-green-400 rounded-2xl overflow-hidden px-8 py-8 grid grid-flow-row",children:[e.jsxs("section",{className:"w-full grid grid-rows-2 gap-4 mb-4",children:[e.jsx("header",{className:"w-full",children:e.jsx("h2",{className:"text-6xl font-extrabold",children:"Daftar"})}),e.jsxs("caption",{className:"w-full",children:[e.jsxs("p",{className:"text-xl italic text-gray-700 text-left border-b-2 border-black pb-1",children:["Isikan NIK, No WA, dan Informasi yang Diperlukan"," ",e.jsx("strong",{children:"Sesuai KTP"})," untuk Mendaftar"]}),s.exception&&e.jsx("p",{className:"text-xl italic text-red-500 text-left pt-1 pb-2",children:s.exception})]})]}),e.jsx("section",{className:"w-full",children:e.jsxs("form",{className:"grid grid-cols-6 gap-2",onSubmit:k,children:[e.jsx("label",{htmlFor:"nik",className:"col-span-6 text-xl font-bold",children:"Nomor Induk Kependudukan"}),e.jsx("input",{className:"col-span-6 border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"number",name:"nik",id:"nik",minLength:16,maxLength:16,placeholder:"Contoh: 357601********03",value:l.nik,onChange:t}),e.jsx(r,{className:"col-span-6",message:s.nik?s.nik:s.match}),e.jsx("label",{htmlFor:"nama_pasien",className:"col-span-6 text-xl font-bold",children:"Nama Lengkap"}),e.jsx("input",{className:"col-span-6 border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"text",name:"nama_pasien",id:"nama_pasien",placeholder:"Contoh: Ahmad Yani",value:l.nama_pasien,onChange:t}),e.jsx(r,{className:"col-span-6",message:s.nama_pasien}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"tgl_lahir",className:"w-full text-xl font-bold",children:"Tanggal Lahir"}),e.jsx("input",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"date",name:"tgl_lahir",id:"tgl_lahir",placeholder:"12/02/2004",value:l.tgl_lahir,onChange:t}),e.jsx(r,{className:"w-full",message:s.tgl_lahir})]}),e.jsxs("div",{className:"col-span-2 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"jenis_kelamin",className:"w-full text-xl font-bold",children:"Kelamin"}),e.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"jenis_kelamin",id:"jenis_kelamin",value:l.jenis_kelamin,onChange:t,children:[e.jsx("option",{value:"L",children:"Laki-Laki"}),e.jsx("option",{value:"P",children:"Perempuan"})]}),e.jsx(r,{className:"w-full",message:s.jenis_kelamin})]}),e.jsx("label",{htmlFor:"alamat",className:"col-span-6 text-xl font-bold",children:"Alamat"}),e.jsxs("div",{className:"col-span-6 grid grid-cols-6 gap-2",children:[e.jsx("input",{className:"col-span-6 border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"text",name:"alamat",id:"alamat",placeholder:"Contoh: Jl. Imam Bonjol No. 30",value:l.alamat,onChange:t}),e.jsx("p",{className:"col-span-6 text-md text-red-500 italic",children:"*Alamat hanya berisikan Jalan, Nomor Rumah ataupun RT RW tanpa Kelurahan hingga Provinsi"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"provinsi",className:"w-full text-xl font-bold",children:"Provinsi"}),e.jsx("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"provinsi",id:"provinsi",children:i.map(a=>a.nama=="Jawa Tengah"?e.jsx("option",{value:a.kode_provinsi,children:a.nama},a.kode_provinsi):null)}),e.jsx(r,{className:"w-full",message:s.kabkota})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"kabkota",className:"w-full text-xl font-bold",children:"Kab/Kota"}),e.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"kabkota",id:"kabkota",value:l.kabkota,onChange:a=>{t(a)},disabled:d=="0",children:[e.jsx("option",{value:"",children:"-- Pilih Kota --"}),m.map(a=>a.kode_parent==d?e.jsx("option",{value:a.kode_kota_kab,children:a.nama},a.kode_kota_kab):null)]}),e.jsx(r,{className:"w-full",message:s.kabkota})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"kecamatan",className:"w-full text-xl font-bold",children:"Kecamatan"}),e.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"kecamatan",id:"kecamatan",value:l.kecamatan,onChange:a=>{t(a)},disabled:l.kabkota=="",children:[e.jsx("option",{value:"",children:"-- Pilih Kecamatan --"}),h.map(a=>a.kode_parent==l.kabkota?e.jsx("option",{value:a.kode_kecamatan,children:a.nama},a.kode_kecamatan):null)]}),e.jsx(r,{className:"w-full",message:s.kecamatan})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"kelurahan",className:"w-full text-xl font-bold",children:"Kelurahan/Desa"}),e.jsxs("select",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",name:"kelurahan",id:"kelurahan",value:l.kelurahan,onChange:a=>{t(a,a.target.value),x(o=>({...o,kelurahan:a.target.value}))},disabled:l.kecamatan=="",children:[e.jsx("option",{value:"",children:"-- Pilih kelurahan --"}),u.map(a=>a.kode_parent==l.kecamatan?e.jsx("option",{value:a.kode_kelurahan,children:a.nama},a.kode_kelurahan):null)]}),e.jsx(r,{className:"w-full",message:s.kelurahan})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"no_hp",className:"w-full text-xl font-bold",children:"No Whatsapp (WA)"}),e.jsx("input",{className:"w-full border-2 border-green-400 rounded-xl text-xl bg-gray-200",type:"number",name:"no_hp",id:"no_hp",placeholder:"Contoh: 0812****1998",value:l.no_hp,onChange:t}),e.jsx(r,{className:"w-full",message:s.no_hp})]}),e.jsx(v,{className:"col-span-2",text:"Daftar",onClick:()=>{c(!0)}})]})})]}),p?e.jsx("div",{className:"fixed flex justify-center items-center inset-0 z-50 bg-black/50 min-h-screen w-full",children:e.jsx("div",{className:"w-40 rounded-full animate-spin aspect-square border-4 border-white"})}):null]})})}export{S as default};
